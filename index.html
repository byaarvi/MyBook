<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Book Flipbook</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.css">
<style>
body { display:flex; justify-content:center; align-items:center; height:100vh; background:#f0f0f0; margin:0; }
#flipbook { width:600px; height:800px; }
#flipbook .page { width:100%; height:100%; background:white; box-shadow:0 0 5px rgba(0,0,0,0.3); overflow:hidden; }
canvas { width:100%; height:100%; display:block; }
</style>
</head>
<body>
<div id="flipbook"></div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- turn.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>
<!-- PDF.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.13.246/pdf.min.js"></script>

<script>
// Proper reference to pdfjsLib
const pdfjsLib = window['pdfjs-dist/build/pdf'];

// PDF worker
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.13.246/pdf.worker.min.js';

const url = 'MyBook.pdf'; // Relative path

const flipbook = document.getElementById('flipbook');

pdfjsLib.getDocument(url).promise.then(pdf => {
    for(let i=1;i<=pdf.numPages;i++){
        const pageDiv = document.createElement('div');
        pageDiv.className='page';
        const canvas = document.createElement('canvas');
        pageDiv.appendChild(canvas);
        flipbook.appendChild(pageDiv);

        pdf.getPage(i).then(page=>{
            const viewport = page.getViewport({scale:1.5});
            canvas.width=viewport.width;
            canvas.height=viewport.height;
            const renderContext = {
                canvasContext: canvas.getContext('2d'),
                viewport: viewport
            };
            page.render(renderContext);
        });
    }

    $('#flipbook').turn({ width:600, height:800, autoCenter:true });
}).catch(err=>console.error('PDF load error:', err));
</script>
</body>
</html>
